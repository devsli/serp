PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE "cat.stores" ("id" INTEGER NOT NULL PRIMARY KEY, "name" VARCHAR(255) NOT NULL);
INSERT INTO "cat.stores" VALUES(1,'main');
CREATE TABLE "doc.itemfound" ("id" INTEGER NOT NULL PRIMARY KEY, "date" DATETIME NOT NULL, "issued" INTEGER NOT NULL, "comment" VARCHAR(255), "store_id" INTEGER NOT NULL, FOREIGN KEY ("store_id") REFERENCES "cat.stores" ("id"));
CREATE TABLE "doc.itemlost" ("id" INTEGER NOT NULL PRIMARY KEY, "date" DATETIME NOT NULL, "issued" INTEGER NOT NULL, "comment" VARCHAR(255), "store_id" INTEGER NOT NULL, FOREIGN KEY ("store_id") REFERENCES "cat.stores" ("id"));
INSERT INTO "doc.itemlost" VALUES(1,'2017-09-24 22:45:35.909349',0,NULL,1);
CREATE TABLE "cat.items" ("id" INTEGER NOT NULL PRIMARY KEY, "name" VARCHAR(255) NOT NULL);
CREATE TABLE "doc.itemlost.items" ("id" INTEGER NOT NULL PRIMARY KEY, "line_no" INTEGER NOT NULL, "item_id" INTEGER NOT NULL, "amount" INTEGER NOT NULL, "ref_id" INTEGER NOT NULL, FOREIGN KEY ("item_id") REFERENCES "cat.items" ("id"), FOREIGN KEY ("ref_id") REFERENCES "doc.itemlost" ("id"));
CREATE TABLE "acc.itemsinstores" ("id" INTEGER NOT NULL PRIMARY KEY, "store_id" INTEGER NOT NULL, "item_id" INTEGER NOT NULL, FOREIGN KEY ("store_id") REFERENCES "cat.stores" ("id"), FOREIGN KEY ("item_id") REFERENCES "cat.items" ("id"));
CREATE UNIQUE INDEX "cat.stores_name" ON "cat.stores" ("name");
CREATE INDEX "doc.itemfound_store_id" ON "doc.itemfound" ("store_id");
CREATE INDEX "doc.itemlost_store_id" ON "doc.itemlost" ("store_id");
CREATE UNIQUE INDEX "cat.items_name" ON "cat.items" ("name");
CREATE INDEX "doc.itemlost.items_item_id" ON "doc.itemlost.items" ("item_id");
CREATE INDEX "doc.itemlost.items_ref_id" ON "doc.itemlost.items" ("ref_id");
CREATE INDEX "acc.itemsinstores_store_id" ON "acc.itemsinstores" ("store_id");
CREATE INDEX "acc.itemsinstores_item_id" ON "acc.itemsinstores" ("item_id");
COMMIT;
